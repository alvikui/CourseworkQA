# Планирование тестирования

## Перечень автоматизируемых сценариев

### А001 Заполнение всех полей формы "Купить" *валидными* значениями
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить"
3. Ввести в поле "Номер карты" APPROVED номер карты
4. Ввести в поле "Месяц" *валидное* значение
5. Ввести в поле "Год" *валидное* значение
6. Ввести в поле "Владелец" *валидное* значение
7. Ввести в поле "CVC/CVV" *валидное* значение 
8. Нажать на кнопку "Продолжить"

Ожидаемый результат: 
На сайте появляется окошко: "Успешно! Операция одобрена Банком."

В базе данных: в таблице Payment Gate появляются данные карты APPROVED, таблица с заявкой на покупку тура заполнена

### А002 Заполнение поля "Номер карты" в форме "Купить" заблокированным номером карты
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить"
3. Ввести DECLINED номер карты
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

В базе данных: в таблице Payment Gate появляются данные карты DECLINED, таблица с заявкой на покупку тура не заполнена

### А003 Оставление поля "Номер карты" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить пустым поле "Номер карты"
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"
   
Ожидаемый результат: Под полем "Номер карты" появляется сообщение: "Неверный формат"

### А004 Заполнение поля "Номер карты" 10 цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" 10 цифрами
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Номер карты" появляется сообщение: "Неверный формат"

### А005 Заполнение поля "Номер карты" неизвестной картой
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/g
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" неизвестной картой
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

### А006 Заполнение поля "Номер карты" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" буквами
  
Ожидаемый результат: В поле ничего не вводится

### А007 Заполнение поля "Номер карты" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" символами
   
Ожидаемый результат: В поле ничего не вводится

### А008 Остановление поля "Месяц" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "Месяц" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Месяц" появляется сообщение: "Неверный формат"

### А009 Заполнение поля "Месяц" значением 00
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" значение 00
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Месяц" появляется сообщение: "Неверно указан месяц"

### А010 Заполнение поля "Месяц" числом 13
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" числом 13
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Месяц" появляется сообщение: "Неверно указан месяц"

### А011 Заполнение поля "Месяц" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" буквами
   
Ожидаемый результат: В поле ничего не вводится

### А012 Заполнение поля "Месяц" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" символами
   
Ожидаемый результат: В поле ничего не вводится

### А013 Остановление поля "Год" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "Год" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Год" появляется сообщение: "Неверный формат"

### А014 Заполнение поля "Год" числом 20
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" число 20
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Год" появляется сообщение: "Истек срок действия карты"

### А015 Заполнение поля "Год" числом 29
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" число 29
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Год" появляется сообщение: "Неверно указан срок действия карты"

### А016 Заполнение поля "Год" одной цифрой
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" цифру 9
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Год" появляется сообщение: "Неверный формат"

### А017 Заполнение поля "Год" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" буквами
   
Ожидаемый результат: В поле ничего не вводится

### А018 Заполнение поля "Год" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" символами
   
Ожидаемый результат: В поле ничего не вводится

### А019 Заполнение поля "Владелец" только именем
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" только имя
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Владелец" появляется сообщение: "Неверный формат"

### А020 Заполнение поля "Владелец" именем и фамилией на русском языке
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести имя и фамилию в поле "Владелец" на русском языке
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Владелец" появляется сообщение: "Неверный формат"

### А021 Заполнение поля "Владелец" двойным именем
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" двойное имя
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Успешно! Операция одобрена Банком."

### А022 Остановление поля "Владелец" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "Владелец" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Владелец" появляется сообщение: "Неверный формат"

### А023 Заполнение поля "Владелец" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" символами
   
Ожидаемый результат: В поле ничего не вводится

### А024 Заполнение поля "Владелец" цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" цифрами
   
Ожидаемый результат: В поле ничего не вводится

### А025 Заполнение поля "CVC/CVV" 2 цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" 2 цифры
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "CVC/CVV" появляется сообщение: "Неверный формат"

### А026 Остановление поля "CVC/CVV" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "CVC/CVV" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "CVC/CVV" появляется сообщение: "Неверный формат"

### А027 Заполнение поля "CVC/CVV" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" символами
   
Ожидаемый результат: В поле ничего не вводится

### А028 Заполнение поля "CVC/CVV" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" буквами
  
Ожидаемый результат: В поле ничего не вводится

### А029 Отправка незаполненной формы
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под всеми полями формы появляется сообщение: "Неверный формат"

#### Значениями для полей являются:
- APPROVED карта — 1111 2222 3333 4444;
- DECLINED карта — 5555 6666 7777 8888;
- Месяц - от 1 до 12, но если год-текущий - не меньше текущего месяца;
- Год - 2 последние цифры текущего и последующих 5 лет;
- Владелец - от 1 до 64 символов: заглавные английские буквы, пробелы, тире, апостроф;
- CVC/CVV - 3 цифры.

## Перечень используемых инструментов с обоснованием выбора

- *IDE: IntelliJ IDEA*;
- *Gradle* для автоматизации сборки и добавления зависимостей, легче по сравнению с Maven;
- *JUnit5* популярный и полнофункциональный фреймворк для модульного тестирования;
- *Selenide* популярный и простой инструмент для UI тестов;
- *Docker-compose* для быстрого развёртывания SUT с заданными параметрами и версиями БД;
- *Allure* подходящая система репортинга для планируемого объёма тестирования;
- *DBeaver* для проверки данных в БД.

## Перечень и описание возможных рисков при автоматизации

- Большие затраты. Окупаемость которых наступит при регулярных релизах продукта, если это не предполагается, то достаточно ручной проверки;
- Большое количество тестов требует много внимания к их поддержке и актуализации;
- Использование изолированных входных данных. Эффект пестицида, необходимо разработать генератор случайных данных;
- Из-за использования заглушки в банковском сервисе, есть риск, что при подключении реальной системы появятся новые невыявленные дефекты.

## Интервальная оценка с учётом рисков в часах

1. Подготовка к проведению тестирования - 10 часов.
2. Разработка автотестов - 28-30 часов.
3. Создание баг-репортов - 6-8 часов.
4. Составление отчёта по результатам автоматизации - 6-8 часов.

## План сдачи работ

1. Планирование тестирования: 16.10.2023 - 18.10.2023
2. Разразботка автотестов: 19.10.2023 - 21.10.2023
3. Создание баг-репортов: 22.10.2023
4. Составление отчёта по результатам автоматизации: 23.10.2023