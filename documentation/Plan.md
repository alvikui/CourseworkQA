# Планирование тестирования

## Перечень автоматизируемых сценариев

### А001 Заполнение всех полей формы *валидными* значениями
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Номер карты" APPROVED номер карты
4. Ввести в поле "Месяц" *валидное* значение
5. Ввести в поле "Год" *валидное* значение
6. Ввести в поле "Владелец" *валидное* значение
7. Ввести в поле "CVC/CVV" *валидное* значение 
8. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Успешно Операция одобрена Банком."

### А002 Заполнение поля "Номер карты" заблокированным номером карты
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести DECLINED номер карты
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

### А003 Оставление поля "Номер карты" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить пустым поле "Номер карты"
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"
   
Ожидаемый результат: Под полем "Номер карты" появляется сообщение: "Неверный формат"

### А004 Заполнение поля "Номер карты" 10 цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" 10 цифрами
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Номер карты" появляется сообщение: "Неверный формат"

### А005 Заполнение поля "Номер карты" 16 рандомными цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/g
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" 16 рандомными цифрами
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

### А006 Заполнение поля "Номер карты" 18 рандомными цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" 18 рандомными цифрами
   
Ожидаемый результат: В поле вводится 16 цифр

### А007 Заполнение поля "Номер карты" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" буквами
  
Ожидаемый результат: В поле ничего не вводится

### А008 Заполнение поля "Номер карты" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" символами
   
Ожидаемый результат: В поле ничего не вводится

### А009 Остановление поля "Месяц" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "Месяц" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Месяц" появляется сообщение: "Неверный формат"

### А010 Заполнение поля "Месяц" тремя цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" три цифры
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: В поле "Месяц" вводятся 2 цифры, если они больше 12 - под полем появляется сообщение: "Неверно указан месяц" 

### А011 Заполнение поля "Месяц" значением 00
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" значение 00
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Месяц" появляется сообщение: "Неверно указан месяц"

### А012 Заполнение поля "Месяц" *невалидными* данными
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" *невалидные* данные
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Месяц" появляется сообщение: "Неверно указан месяц"

### А013 Заполнение поля "Месяц" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" буквами
   
Ожидаемый результат: В поле ничего не вводится

### А014 Заполнение поля "Месяц" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" символами
   
Ожидаемый результат: В поле ничего не вводится

### А015 Остановление поля "Год" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "Год" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Год" появляется сообщение: "Неверный формат"

### А016 Заполнение поля "Год" *невалидными* данными
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" *невалидные* данные
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

### А017 Заполнение поля "Год" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" буквами
   
Ожидаемый результат: В поле ничего не вводится

### А018 Заполнение поля "Год" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" символами
   
Ожидаемый результат: В поле ничего не вводится

### А019 Заполнение поля "Владелец" *невалидными* данными
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" *невалидные* данные
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

### А020 Остановление поля "Владелец" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "Владелец" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Владелец" появляется сообщение: "Неверный формат"

### А021 Заполнение поля "Владелец" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" символами
   
Ожидаемый результат: В поле ничего не вводится

### А022 Заполнение поля "Владелец" цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" цифрами
   
Ожидаемый результат: В поле ничего не вводится

### А023 Заполнение поля "CVC/CVV" *невалидными* данными
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" *невалидные* данные
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

### А024 Заполнение поля "CVC/CVV" 2 цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" 2 цифры
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "CVC/CVV" появляется сообщение: "Неверный формат"

### А025 Заполнение поля "CVC/CVV" 4 цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" 4 цифры

Ожидаемый результат: В поле "CVC/CVV" вводятся 3 цифры

### А026 Остановление поля "CVC/CVV" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "CVC/CVV" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "CVC/CVV" появляется сообщение: "Неверный формат"

### А027 Заполнение поля "CVC/CVV" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" символами
   
Ожидаемый результат: В поле ничего не вводится

### А028 Заполнение поля "CVC/CVV" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" буквами
  
Ожидаемый результат: В поле ничего не вводится

### А029 Отправление запроса в базу данных
Шаги воспроизведения:
1. Подключить в "IntelliJ IDEA" базу данных и создать контейнер
2. Через программу "DBeaver" открыть базу данных
3. В "IntelliJ IDEA" запустить контейнер
4. В "IntelliJ IDEA" запустить приложение покупки тура
5. В "DBeaver" открыть таблицы БД

Ожидаемый результат: В таблице записаны уникальные данные

### А030 Повторное отправление запроса в базу данных
Шаги воспроизведения:
1. В "IntelliJ IDEA" запустить контейнер
2. В "IntelliJ IDEA" запустить приложение покупки тура
3. В "DBeaver" открыть таблицы БД

Ожидаемый результат: В терминале "IntelliJ IDEA" высвечивается ошибка о том, что невозможно записать в БД уникальные данные. В "DBeaver" указаны уникальные данные оставшиеся с прошлого запроса

#### Значениями для полей являются:
- APPROVED карта — 1111 2222 3333 4444;
- DECLINED карта — 5555 6666 7777 8888;
- Месяц - от 1 до 12, но если год-текущий - не меньше текущего месяца;
- Год - не должен быть прошлым;
- Владелец - от 1 до 64 символов: заглавные английские буквы, пробелы, тире, апостроф;
- CVC/CVV - 3 цифры.

## Перечень используемых инструментов с обоснованием выбора

- *IDE: IntelliJ IDEA*;
- *Gradle* для автоматизации сборки и добавления зависимостей, легче по сравнению с Maven;
- *JUnit5* популярный и полнофункциональный фреймворк для модульного тестирования;
- *Selenide* популярный и простой инструмент для UI тестов;
- *Docker-compose* для быстрого развёртывания SUT с заданными параметрами и версиями БД;
- *Allure* подходящая система репортинга для планируемого объёма тестирования;
- *DBeaver* для проверки данных в БД.

## Перечень и описание возможных рисков при автоматизации

- Большие затраты. Окупаемость которых наступит при регулярных релизах продукта, если это не предполагается, то достаточно ручной проверки;
- Большое количество тестов требует много внимания к их поддержке и актуализации;
- Использование изолированных входных данных. Эффект пестицида, необходимо разработать генератор случайных данных;
- Из-за использования заглушки в банковском сервисе, есть риск, что при подключении реальной системы появятся новые невыявленные дефекты.

## Интервальная оценка с учётом рисков в часах

1. Исследование приложения и окружения - 4 часа.
2. Ручное тестирование - 8 часов
3. Настройка SUT, создание необходимых дата-хелперов и page object - 10 часов.
4. Разработка автотестов - 10-12 часов.
5. Создание баг-репортов - 4 часа.
6. Составление отчёта по результатам автоматизации - 6-8 часов.

## План сдачи работ

1. Ручное тестирование, заведение баг-репортов: 17.10.2023
2. Разразботка автотестов: 18.10.2023
3. Составление отчёта по результатам автоматизации: 20.10.2023